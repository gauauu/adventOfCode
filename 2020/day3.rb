input = [
  ".#..........#......#..#.....#..",
  "....#.............#.#....#..#..",
  ".....##...###....#..#.......#..",
  ".#....#..#......#........#.....",
  ".#.........###.#..........##...",
  "...............##........#.....",
  "#..#..........#..##..#....#.#..",
  "....#.##....#..#...#.#....#....",
  "...###...#............#.#......",
  "#.........#..#...............#.",
  "#.#...........#...............#",
  "..#.#......#..###.#...#..##....",
  ".....#..#..#..#............#...",
  "......#.......#.....#....##....",
  "#......#...#.......#.#.#.......",
  "...........##.#.............#..",
  ".#.........#..#.####...........",
  "..#...........#....##..........",
  "#...........#.......#..#.#.....",
  ".....##...#.....#..##..#..#....",
  "#.#..........................#.",
  "##.....#..........#.......##..#",
  "....#..#............#.#.#......",
  ".......#.......#..#............",
  "...#.#..........#..#.....#.....",
  ".....#...##..##.....##........#",
  ".#.....#........##............#",
  "..#....#.#...#.....#.##........",
  "........##.....#......##...##..",
  "......#..................#.....",
  "..##......##.....##...##.......",
  "......#..#...##......##........",
  ".#..#..#.#.....................",
  ".#....#.#...#....#.......##...#",
  ".####.#..##...#.#.#....#...#...",
  ".#....#.....#...#..#.........##",
  "...........#.#####.#.#..##..#..",
  ".#......##...#..###.#.#....#...",
  "...#.....#........#..###...#...",
  ".......#................##.#...",
  ".##...#.#..................#...",
  "..#........#....#..........#..#",
  "..#.........#..................",
  "...#.#..........#.#..##........",
  "...#.##..........##...........#",
  "...........#..#........#.......",
  ".#....#.#...........#....#.##..",
  ".#...#..#............#....#.#..",
  "...#..#...#.........####.#.#...",
  "..#...#...........###..#...##.#",
  "......##...#.#.#....##....#....",
  "#..#.#.....##....#.......#...#.",
  ".#.....#.....#..#..##..........",
  "................#.#.#...##.....",
  ".#.....#............#......#...",
  "...#...#..#.#....######.....#..",
  "..#..........##......##.....#..",
  "......#..#.##...#.#............",
  "....#.......#..#...#..#.#......",
  "#......##.#..#........#.....#..",
  "..#.........#..#.........#.....",
  "..#.........##.......#.#.#..##.",
  "...#....##.................#.#.",
  "...#........##.#.......#.##..##",
  "....#.#...#...#....#...........",
  ".........#....##........#......",
  "...#........#..#.......#...#...",
  "#.......#....#...#...........#.",
  ".......#......#...##...........",
  ".#.#......##.#.......#..#...#..",
  ".#.....##.#...#......#..#......",
  "........#.............#.#..#..#",
  "#...........#....#.....#.##.#.#",
  "................#...#........##",
  "#..#.##..#.....#...##.#........",
  "#.....#.#..##......#.#..#..###.",
  "....#...#.....#................",
  "......#...#..##...........#....",
  "......#.........##.#...#......#",
  "#...#.#.....#..#.#..#..#......#",
  "...#.#..#..#.#........###.#....",
  "..#...#.......#.#.......#......",
  "...#....#.....#.......#......#.",
  "#...........#....#..#..#.......",
  "..........##......##.........##",
  "##............#..#.#...#..#.#..",
  "..#.##....##...##..#...#.......",
  "............##.##..###..#..#...",
  "......#....##...##.........#...",
  "......#..#.#......####..#......",
  "..............#....#..#..##....",
  "...#.#..#...##.#.......#.#.....",
  "...#.#....#.......#..#..#..##..",
  "..........#.........#..........",
  "...#.....#............#.....##.",
  "....#.#......................#.",
  ".........#...#.#...#...........",
  "...#........#..##.....#...#.#..",
  "......##.....#.#..#...###.#...#",
  "#....#..#.#.....#...#..........",
  ".#.##.###.........#..##.#....#.",
  "#.........#....#........#...#..",
  "...........#...............#..#",
  "###....................#....#..",
  ".................#....#.....#..",
  "..........#.........#.......#..",
  "........#..#....#.....##.......",
  "#...##.#...#.#.#............#..",
  "....#.........##.#.#..#...###..",
  ".##..............#...#.....##.#",
  "###...#..................#...#.",
  ".....#..#...#..#...#...........",
  ".#.................#...#..#..#.",
  ".#.........###...#.##......###.",
  ".####............#......#..#...",
  "....#........#..#.#....#..##..#",
  "..#....#.#...#.#.....##....#...",
  "..###..#..#....##....#..#..#...",
  "...#.#.....#.#....#.....#......",
  ".....#..........#.#............",
  ".......#...........#.#..#..#...",
  "......##........#.....#.......#",
  "..#.#.....##............#..##..",
  "....#.#........#...........##..",
  "#......#..##........#.....#....",
  "#...#...###..............##....",
  "#..#........#........#.....##.#",
  "......##.####........#..#....#.",
  "...##..#.##.....#...#...#..#...",
  "#..............###.##..##......",
  "......................#.....#..",
  ".........#.#.......#...##.#....",
  "....#......#..........###..#...",
  "#...####.#.................#..#",
  "##.#....#....#.....##..#....#.#",
  "..#.....#..##.........#.#..#.#.",
  ".....#.....#...................",
  "#....##.#.........###....#.....",
  "#........#.#.......#.#.........",
  ".##.#...#.....#...#.......##.##",
  "#..#.............#.............",
  "..........#.........####.......",
  "..##..............#..#.#.......",
  "..#.#.....#........#......##...",
  "#.#.......#.#................#.",
  ".#...#........#....##....#.##..",
  ".#..#...#...#......#.#.........",
  "......##............#.........#",
  ".#....#.#.#.........#..#..##...",
  "#....#......#.......###........",
  ".......#........##..#...#..###.",
  "#.##..........#..###..#..#.#...",
  ".#..#....#..........#.#.##.....",
  "#..#...#.#...#..#..#.#...#.....",
  ".........#...#.#............#..",
  "#..#.............#......##.##..",
  "...##.......#..................",
  "....#......#...#.....#......#..",
  ".....##..#......#....#....#....",
  "....#...#...#...#.....#........",
  ".#....#........##....#..#.#...#",
  "#.......#..#......#......#...#.",
  "..............#......#......#..",
  "#......#..##...#........#....#.",
  "#..#..#..#.....#..#........#...",
  "#...#.....#...#..........#...##",
  "........#.......#...#.....#.#..",
  "...................##.......#..",
  ".#......#........#.##..#....#..",
  ".....#.....#...#..#..#......#..",
  "........##.#..##.........#....#",
  ".........#.......#.............",
  "............#.###.###..#.#.....",
  ".............#....#...........#",
  "..#.....#.#..##.##........#....",
  "...#....#....#.........#.....#.",
  ".#............#......#.........",
  "..#.#..........##.##......#.#..",
  "....#.........................#",
  "..........##...................",
  "#.......#.#..............#...#.",
  "...##..#..##...##.#..#.#.#.....",
  "...########.#..##....#.........",
  "##.#........##.....#........#..",
  "#.#.....#........#..#....#...#.",
  "..#............#.......###.##.#",
  "#.#............................",
  "...#.#.#....#..........#..#....",
  "..###.#.....#.#..#.............",
  "#........#..........#.#..#.....",
  "...........#..#....#.........#.",
  "..#............#.....#.#.......",
  "#.#............#..#.....#.#.#..",
  "...#...#.......................",
  ".#.#.#...##.............#..#..#",
  "..#.........#..#.....##....##..",
  ".#...#............#.......#..##",
  "....#..#.#.#...####............",
  "#.......#....#..##....##....#..",
  ".....##.#....#.#..#.......#....",
  "...........#.......#....##.#.##",
  "..........#...#....##...#.#....",
  "..#.............#.............#",
  "....#..#.....#....#.#..###.#...",
  ".......#.##.#......#...##...#.#",
  ".#..#.#..#.#.......#....###.#..",
  "#..........##...##.........##..",
  "##..#......##.#.####.#.....#...",
  "....#.#...#........#..##..#.#..",
  ".#.............................",
  ".##..#.#...##.....#....#.....#.",
  "..##.........#......#.........#",
  ".#.#........#...#.#.#....##....",
  ".#.................##.........#",
  "...#...............#....#......",
  "..#...#..#..........###..#...##",
  "..........#..#..........##..#..",
  "...#.............#.##.#...#....",
  "...#...........#...............",
  "......#.........##.#...#...#...",
  "...#.#........#..#.....#..#...#",
  "#.#...#....##...#.....#....#...",
  "#.#.#..#.....#.........#.......",
  "##...........#..####...........",
  "#..........#........###...#..#.",
  "#..#.......#....#......###.....",
  "..#.....#......#.###......##...",
  "...#.##..#............#...#....",
  ".##........#.....#.............",
  "#....#.##..#...........##.#.#..",
  "..#.....#.#....#.......#......#",
  "#..#.......#............#......",
  "#.......##....#...#..#.........",
  ".................#..##.........",
  "..............#..#..#.##.......",
  "#.#.......................#..#.",
  "..#..##...........#....#..#..#.",
  "...#....#.......#.......#....#.",
  ".....#.#..#.#.....#.........#.#",
  "..#.#.........#.....#..........",
  "...#.#.#.......#.#.......#.#..#",
  "...##...#.#.#.....#.....##....#",
  "##.......#.#.#.#.......#...##..",
  "....#.#...........#......#.....",
  ".#.....#........####...........",
  "#......#........#.....#..#..#..",
  "..#..#......#...##.......#....#",
  "#........#..........#.....#.#..",
  ".#...........#.....#.....#.....",
  "..........#..#...#....#....##..",
  ".....#.#..........#.....##..#..",
  "......#.........##.............",
  "..#..#.....##......##........#.",
  ".#.#.#.#..#.#..#.......#.......",
  "#.#...####.#.#....#.#........#.",
  "....#...#.....#......#..##.....",
  "##.........#.........#..#.#..#.",
  "..#.#........#.#........#.##...",
  "#....#......#...#....#.........",
  ".##.............###....###.#...",
  "..##.#.......#...#..#......#...",
  ".....#.##..................#...",
  ".....#.#...#..#................",
  "........#..#..#...........#.#.#",
  "....#.###.....#..#.#.....##..##",
  "....##.#.........#..##.........",
  ".##........#......#..###..#.##.",
  ".........##...............#.##.",
  "..#...............#.#...#..#.#.",
  "....#....##.....#...#..#.....#.",
  "#...#.....................#....",
  ".....#.#............#...##.#.#.",
  "...#......#.......#........##.#",
  ".#.#..#.#....#.##.......##....#",
  ".........#...#..##.........#...",
  ".#...#..#....................#.",
  ".......#...#........#.#..#.#.##",
  ".#.............#......#..#.#...",
  "............##.........#....#.#",
  "#.........##..##...............",
  ".#.#....#.#..#..........##.....",
  "..###...#..#.#.......#..#...##.",
  ".....#....#.#............##.#..",
  "##.....#.#..#..#...............",
  "...##...#......#....#..#..#....",
  ".............#....#..#..##...##",
  "#.......#............#....##..#",
  "..#.##.....#.......#....#....#.",
  "..........#...#.............###",
  "..#....#.#..................#..",
  "#.#...#..#...........#.........",
  "....##..#..##..#..........#....",
  "#...#...#.#....#.##...#.......#",
  "#......##.#...##..#.....#......",
  "....#.......#.#............#...",
  "#....#...........###...........",
  "#..#...#...#......#.#..#.......",
  "...............................",
  "#........##.............#.#....",
  ".............#........#....#.##",
  "........##.####.....##..#......",
  "#.#.#.#.......##....##.....#...",
  ".......#..##..#...#............",
  "..........#...#....#..#.#.#.##.",
  "...#........##....#...#........",
  "#..#.##....#....#........#.....",
  ".##...#.....##...#.............",
  ".#...#..#.#.....#.##.....#.....",
  "...........#.............#...#.",
  ".#..#................#...#..#..",
  "#..........#......##..##....#..",
  "####..#...........#.#....#.....",
  "..#.#.##..#...##........#....##",
  ".#.......##........#.....#.....",
  "............#................#.",
  ".#...#...#.....#.#....#.##..#..",
  "..#.............#.#....#.#.....",
  "..............#...........#....",
  "..............#........#....#..",
  "..........##........#..#...#...",
  "...#.#....#.#....#..#.....#...#",
  "..#......#...........#..#..#.#.",
  ".....##.....#.####....#........",

]

# input = [
#   "..##.......",
#   "#...#...#..",
#   ".#....#..#.",
#   "..#.#...#.#",
#   ".#...##..#.",
#   "..#.##.....",
#   ".#.#.#....#",
#   ".#........#",
#   "#.##...#...",
#   "#...##....#",
#   ".#..#...#.#",
# ]


def trees_for_slope(right,down,input)
  max_x = input[0].length
  max_y = input.length

  x = 0
  y = 0
  trees = 0
  while y < max_y
    if input[y][x] == "#"
      trees = trees + 1
    end

    x = x + right
    x = x % max_x

    y = y + down
  end
  trees
end

slopes = [
  [1,1],
  [3,1],
  [5,1],
  [7,1],
  [1,2],
]

p slopes.map { |s| trees_for_slope(s[0],s[1],input)}.reduce(:*)
